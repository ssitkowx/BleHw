
///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "Settings.h"
#include "BleParser.h"

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// FUNCTIONS ////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

void BleParser::Turn (cJSON * v_root, const Settings::ETurn v_eTurn)
{
    cJSON * turn = cJSON_GetObjectItem (v_root, "Turn");
    isNodeJsonEmpty (turn, "root", "Turn");
    Settings::GetInstance ().Wehicle.eTurn = static_cast<Settings::ETurn>(turn->valuedouble);
}

void BleParser::Drive (cJSON * v_root, const Settings::EDrive v_eDrive, const uint16_t v_speed)
{
    cJSON * drive = cJSON_GetObjectItem (v_root, "Drive");
    isNodeJsonEmpty (drive, "root", "Drive");
    Settings::GetInstance ().Wehicle.eDrive = static_cast<Settings::EDrive>(drive->valuedouble);

    cJSON * speed = cJSON_GetObjectItem (v_root, "Speed");
    isNodeJsonEmpty (speed, "root", "Speed");
    Settings::GetInstance ().Wehicle.Speed = static_cast<Settings::EDrive>(speed->valuedouble);
}

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
